cmake_minimum_required(VERSION 2.6)

PROJECT( crctrl )

SET ( crctrl_source 
	Config.cpp
	GameControl.cpp
	Control.cpp
	AutoHost.cpp
	Main.cpp
	helpers/StringFunctions.cpp
)
		

ADD_EXECUTABLE(crctrl ${crctrl_source})

TARGET_LINK_LIBRARIES(crctrl pthread mysqlpp boost_regex-mt)

ADD_SUBDIRECTORY( helpers )

ADD_DEFINITIONS(-g)

#boost
FIND_PACKAGE( Boost REQUIRED )

# mySQL++ stuff
FIND_PATH(MYSQLPP_INCLUDE_PATH mysql++.h /usr/include/mysql++/)
FIND_PATH(MYSQL_INCLUDE_PATH mysql.h /usr/include/mysql/)

IF(MYSQL_INCLUDE_PATH AND MYSQLPP_INCLUDE_PATH)
	SET(MYSQLPP_INCLUDE_DIR
		${MYSQLPP_INCLUDE_PATH}
		${MYSQL_INCLUDE_PATH}
	)
ENDIF(MYSQL_INCLUDE_PATH AND MYSQLPP_INCLUDE_PATH)

FIND_LIBRARY(MYSQLPP_LIBRARIES mysqlpp)

IF (MYSQLPP_INCLUDE_DIR AND MYSQLPP_LIBRARIES)
	SET(MYSQLPP_FOUND TRUE)
ELSE (MYSQLPP_INCLUDE_DIR AND MYSQLPP_LIBRARIES)
	SET(MYSQLPP_FOUND FALSE)
ENDIF (MYSQLPP_INCLUDE_DIR AND MYSQLPP_LIBRARIES)

  IF(MYSQLPP_FOUND)
	INCLUDE_DIRECTORIES(${MYSQLPP_INCLUDE_DIR})
ELSE(MYSQLPP_FOUND)
	MESSAGE(FATAL_ERROR "Could not find mySQL++.")
ENDIF(MYSQLPP_FOUND)